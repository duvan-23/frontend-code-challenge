<div
  *ngIf="showSummaryErrors()"
  class="bg-red-100 text-red-700 p-3 rounded mb-4 border border-red-300"
>
  <ul class="list-disc pl-5">
    <li
      *ngIf="form.get('email')?.invalid && form.get('email')?.errors?.['required']"
    >
      The email is required.
    </li>
    <li
      *ngIf="form.get('email')?.invalid && form.get('email')?.errors?.['email']"
    >
      The email is invalid.
    </li>
    <li
      *ngIf="form.get('password')?.invalid && form.get('password')?.errors?.['required']"
    >
      Password is required.
    </li>
    <li
      *ngIf="form.get('password')?.invalid && form.get('password')?.errors?.['pattern']"
    >
      Password is invalid
    </li>
    <!-- add more as needed -->
  </ul>
</div>
<form
  [formGroup]="form"
  (ngSubmit)="onSubmit()"
  class="space-y-2"
  autocomplete="off"
>
  <!-- First and Last Name -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-0.5"
        >First Name</label
      >
      <input
        formControlName="firstName"
        type="text"
        class="form-input mb-[1.25rem]"
      />
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-0.5"
        >Last Name</label
      >
      <input
        formControlName="lastName"
        type="text"
        class="form-input mb-[1.25rem]"
      />
    </div>
  </div>

  <!-- Email -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-0.5">Email</label>
    <input
      formControlName="email"
      type="email"
      class="form-input"
      name="email"
      autocomplete="off"
    />
    <div class="text-red-500 text-sm min-h-[1.25rem]">
      <p
        *ngIf="form.get('email')?.touched && form.get('email')?.invalid"
        class="text-red-500 text-sm"
      >
        Please enter a valid email address.
      </p>
    </div>
  </div>

  <!-- Subscription -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-0.5"
      >Subscription</label
    >
    <select formControlName="subscription" class="form-input mb-[1.25rem]">
      <option value="basic">Basic</option>
      <option value="advanced">Advanced</option>
      <option value="pro">Pro</option>
    </select>
  </div>

  <!-- Password -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-0.5"
      >Password</label
    >
    <div class="relative">
      <input
        formControlName="password"
        [type]="showPassword() ? 'text' : 'password'"
        class="form-input pr-10 w-full"
        name="password-input"
        autocomplete="new-password"
      />
      <button
        type="button"
        (click)="togglePassword()"
        class="absolute inset-y-0 right-2 flex items-center text-gray-600"
        tabindex="-1"
      >
        <i class="fas" [ngClass]="showPassword() ? 'fa-eye' : 'fa-eye-slash'"></i>
      </button>
    </div>
    <div class="text-red-500 text-sm min-h-[2.50rem]">
      <p
        *ngIf="form.get('password')?.touched && form.get('password')?.invalid"
        class="text-red-500 text-sm"
      >
        Password must be at least 8 characters. <br />Include a letter and a
        special character.
      </p>
    </div>
  </div>

  <!-- CSV -->
  <div>
    <label class="block text-sm font-medium text-gray-700 mb-0.5"
      >Upload CSV</label
    >
    <input
      type="file"
      (change)="onFileChange($event)"
      accept=".csv"
      class="form-input cursor-pointer"
    />
    <div class="text-red-500 text-sm min-h-[1.25rem]">
      <p
        *ngIf="form.get('csv')?.touched && form.get('csv')?.invalid"
        class="text-red-500 text-sm"
      >
        CSV file is required.
      </p>
      <p *ngIf="fileName()" class="text-sm text-gray-600 mt-1">
        Selected: {{ fileName() }}
      </p>
    </div>
  </div>

  <!-- Buttons -->
  <div class="flex justify-around pt-4">
    <button
      type="submit"
      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-1.5 rounded-md transition transform hover:scale-105"
    >
      Submit
    </button>
    <button
      type="button"
      (click)="onClear()"
      class="bg-pink-500 hover:bg-pink-600 text-white px-4 py-1.5 rounded-md transition hover:scale-105"
    >
      Clear
    </button>
  </div>
</form>
